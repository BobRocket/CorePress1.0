tinymce.PluginManager.add("gh-addShortCode",function(editor,url){editor.on("click",function(e){var dom=$(e.toElement).parents();if("corepress-editbtn"==$(dom).attr("id")){var code=dom.find("#corepress-editbtn").parent().find("code").text(),codedom=dom.find("#corepress-editbtn").parent().find("code");editcode(code,codedom)}else"corepress-delbtn"==$(dom).attr("id")&&console.log($(dom[1]).remove());dom.find("#corepress-editbtn").remove(),dom.find("#corepress-delbtn").remove(),"PRE"==e.toElement.tagName&&($(e.toElement).append('<div id="corepress-editbtn"><span>编辑</span></div>'),$(e.toElement).append('<div id="corepress-delbtn"><span>删除</span></div>'))})});