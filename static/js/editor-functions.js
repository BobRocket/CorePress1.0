function addshortcode(name){"title-plane"==name?addContentToEditer(1,'[title-plane title="标题"]内容[/title-plane]'):"start-plane"==name?addContentToEditer(1,'[start-plane type="1"]内容[/start-plane]'):"icon-url"==name?addContentToEditer(1,'[icon-url href="网址"]网址[/icon-url]'):"loginshow"==name?addContentToEditer(1,"[loginshow]登录可见的内容[/loginshow]"):"zd-plane"==name?addContentToEditer(1,'[zd-plane title="折叠标题"]折叠内容[/zd-plane]'):"corepress-code"==name?layer.open({type:1,title:"插入代码",shadeClose:!0,shade:!1,area:["500px","500px"],content:'<div><div class="corepress-edit-window">\n                       <textarea class="corepress-edit-code"></textarea>\n                        \n                       <button class="el-button el-button--default el-button--small " onclick="corepress_addcode(1)">插入代码</button>\n                       <button class="el-button el-button--default el-button--small " onclick="corepress_clearcode()">清空内容</button>\n                      </div> </div>\n                        '}):"corepress-code-line"==name&&layer.open({type:1,title:"行内代码",shadeClose:!0,shade:!1,area:["500px","300px"],content:'<div><div class="corepress-edit-window">\n                       <textarea class="corepress-edit-code-line"></textarea>\n                       <button class="el-button el-button--default el-button--small " onclick="corepress_addcode(0)">插入代码</button>\n                      </div> </div>\n                        '})}function corepress_clearcode(){$(".corepress-edit-code").val("")}function corepress_addcode(type){if(0==type){addContentToEditer(1,"<code>"+(code=$(".corepress-edit-code-line").val())+"</code>&nbsp;")}else{var code=$(".corepress-edit-code").val();addContentToEditer(1,'<pre class="corepress-code-pre"><code>'+htmlEncodeByRegExp(code)+"</code></pre>&nbsp;")}}function corepress_updatecode(){window.$codedom.html(htmlEncodeByRegExp($(".corepress-edit-code").val())),layer.closeAll()}function editcode(text,dom){window.$codedom=dom,layer.open({type:1,title:"修改代码",shadeClose:!0,shade:!1,area:["500px","500px"],content:'<div class="corepress-edit-window"><textarea class="corepress-edit-code">'+text+'</textarea><br><button class="el-button el-button--default el-button--small" onclick="corepress_updatecode()">更新</button></div>'})}function addContentToEditer(type,content){parent.tinymce.activeEditor.selection.setContent(content)}$(document).ready(function(){$(".corepress-btn").click(()=>{layer.open({type:1,title:"插入短代码",shadeClose:!0,shade:!1,area:["500px","400px"],content:'<div><div class="corepress-edit-window">\n                        <h3>短代码</h3>\n                        <button class="el-button el-button--default el-button--small corepress-edit-window-btn" onclick="addshortcode(\'title-plane\')">标题面板</button>\n                        <button class="el-button el-button--default el-button--small corepress-edit-window-btn" onclick="addshortcode(\'start-plane\')">标星面板</button>\n                        <button class="el-button el-button--default el-button--small corepress-edit-window-btn" onclick="addshortcode(\'icon-url\')">图标超链接</button>\n                        <button class="el-button el-button--default el-button--small corepress-edit-window-btn" onclick="addshortcode(\'zd-plane\')">折叠面板</button>\n                        <br>\n                        \n                        <button class="el-button el-button--default el-button--small corepress-edit-window-btn" onclick="addshortcode(\'loginshow\')">登录可见</button>\n\n                         <h3>功能拓展</h3>\n                        <button class="el-button el-button--default el-button--small corepress-edit-window-btn" onclick="addshortcode(\'corepress-code\')">代码高亮</button>\n                        <button class="el-button el-button--default el-button--small corepress-edit-window-btn" onclick="addshortcode(\'corepress-code-line\')">行内代码</button>\n                       \n                      </div></div>\n                        '})})});