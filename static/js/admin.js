null!=set.code.headcode&&(set.code.headcode=BASE64.decode(set.code.headcode)),null!=set.code.footcode&&(set.code.footcode=BASE64.decode(set.code.footcode)),null!=set.code.css&&(set.code.css=BASE64.decode(set.code.css));var vue=new Vue({el:"#app",data:{menu_active:11,adminurl:adminurl,set:set,dialog:{colorPick:!1}},methods:{selectMenu(index,indexPath){vue.menu_active=index},reThemeColor(type){0==type?vue.set.theme.themeColor="#409EFF":1==type?vue.set.theme.fontSelectedColor="#3390ff":2==type&&(vue.set.theme.themeHoverColor="#409EFF")},selectImg(mark,index){var upload_frame;(upload_frame=wp.media({title:"选择图片",button:{text:"插入"},multiple:!1})).on("select",function(){attachment=upload_frame.state().get("selection").first().toJSON(),"set.routine.logo"===mark?vue.set.routine.logo=attachment.url:"set.routine.defaultthumbnail"===mark?vue.set.routine.defaultthumbnail=attachment.url:"set.routine.footer_1_imgurl"===mark?vue.set.routine.footer_1_imgurl=attachment.url:"set.routine.footer_2_imgurl"===mark?vue.set.routine.footer_2_imgurl=attachment.url:"set.routine.favicon"===mark?vue.set.routine.favicon=attachment.url:"swiperlist"===mark?vue.set.index.swiperlist[index].imgurl=attachment.url:"set.user.lgoinpageimg"===mark&&(vue.set.user.lgoinpageimg=attachment.url)}),upload_frame.open()},delSwiper(index){vue.$confirm("此操作将删除当前幻灯片项目，是否确定？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{vue.set.index.swiperlist.splice(index,1)}).catch(()=>{})},addSwiper(){vue.set.index.swiperlist.push({title:"",url:"",imgurl:""})},moveSwiper(index,where){var arr=vue.set.index.swiperlist;arr[index]=arr.splice(index+where,1,arr[index])[0]},save(){var isnullSwiperlist=!1;if(vue.set.index.swiperlist.forEach(function(currentValue,index,arr){""==currentValue.imgurl&&(isnullSwiperlist=!0)}),1!=isnullSwiperlist)if(0==vue.set.user.loginpage||null!=vue.set.user.lgoinpageurl){var setData=JSON.parse(JSON.stringify(vue.set));null!=setData.code.headcode&&(setData.code.headcode=BASE64.encode(setData.code.headcode)),null!=setData.code.footcode&&(setData.code.footcode=BASE64.encode(setData.code.footcode)),null!=setData.code.css&&(setData.code.css=BASE64.encode(setData.code.css)),axios.post(vue.adminurl+"?action=save",{save:BASE64.encode(JSON.stringify(setData))}).then(function(response){1==response.data.code?vue.$message({message:"保存成功！",type:"success",offset:50}):vue.$message({message:"你什么都还没修改呢！",type:"success",offset:50})})}else vue.$message({message:"已开启自定义登录页面，请设置地址",type:"warning",offset:50});else vue.$message({message:"幻灯片图像地址为空，请填写！",type:"warning",offset:50})}}});